(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"0123":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{ref:"dialog",on:{hide:t.onDialogHide}},[a("q-card",{staticClass:"q-dialog-plugin"},[a("q-card-section",{staticClass:"bg-primary"},[a("span",{staticClass:"text-h6 text-white"},[t._v("Bug反馈")])]),a("q-form",{on:{submit:function(e){return t.onSubmit()}}},[a("q-card-section",{staticClass:"q-gutter-y-md"},[a("q-input",{attrs:{disable:"",filled:"",label:"登录账号"},model:{value:t.data.username,callback:function(e){t.$set(t.data,"username",e)},expression:"data.username"}}),a("q-input",{attrs:{disable:"",filled:"",label:"当前所在页面"},model:{value:t.data.currentPath,callback:function(e){t.$set(t.data,"currentPath",e)},expression:"data.currentPath"}}),a("q-select",{attrs:{filled:"",options:t.bugTypeOptions,"emit-value":"","map-options":"",label:"Bug类型",rules:[function(t){return""!==t||"你想报告哪种类型的BUG？"}]},model:{value:t.data.bugType,callback:function(e){t.$set(t.data,"bugType",e)},expression:"data.bugType"}}),a("q-input",{ref:"title",attrs:{filled:"",label:"BUG标题",rules:[function(t){return!!t&&t.length>0||"至少写个标题吧"}]},model:{value:t.data.title,callback:function(e){t.$set(t.data,"title",e)},expression:"data.title"}}),a("q-input",{attrs:{type:"textarea",filled:"",label:"BUG内容"},model:{value:t.data.text,callback:function(e){t.$set(t.data,"text",e)},expression:"data.text"}}),a("q-toggle",{attrs:{disable:t.disableAnonymous,label:"匿名（如果未登录默认为匿名）"},model:{value:t.data.anonymous,callback:function(e){t.$set(t.data,"anonymous",e)},expression:"data.anonymous"}})],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{color:"negative",label:"取消"},on:{click:t.onCancelClick}}),a("q-btn",{attrs:{type:"submit",color:"primary",label:"提交BUG"}})],1)],1)],1)],1)},r=[],i=a("967e"),o=a.n(i),s=(a("96cf"),a("fa84")),l=a.n(s),c=(a("bd4c"),{props:{},data:function(){return{data:{username:this.$store.getters["global/getUsername"],currentPath:this.$route.path,bugType:"",title:"",text:"",anonymous:!1},disableAnonymous:!1,bugTypeOptions:[]}},mounted:function(){this.getBugTypeOptions(),this.$store.getters["global/getIsLogin"]||(this.data.anonymous=!0,this.disableAnonymous=!0)},methods:{onSubmit:function(){this.reportBug()},getBugTypeOptions:function(){var t=this;return l()(o.a.mark((function e(){var a;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("/util/bugTypes");case 2:a=e.sent,t.bugTypeOptions=a.datas[0];case 4:case"end":return e.stop()}}),e)})))()},reportBug:function(){var t=this;return l()(o.a.mark((function e(){var a,n;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new URLSearchParams,a.append("username",t.data.anonymous?"":t.data.username),a.append("currentPath",t.data.currentPath),a.append("type",t.data.bugType),a.append("title",t.data.title),a.append("text",t.data.text),e.next=8,t.$axios.post("/bug/report",a);case 8:if(n=e.sent,1e4!==n.code){e.next=13;break}t.$q.notify({icon:"check",color:"positive",message:"BUG提交成功",caption:"如果不是匿名提交的，可以留意系统消息哦"}),e.next=15;break;case 13:return t.$q.notify({icon:"error",color:"negative",message:"BUG提交失败",caption:"请稍后重试"}),e.abrupt("return");case 15:t.onOKClick();case 16:case"end":return e.stop()}}),e)})))()},show:function(){this.$refs.dialog.show()},hide:function(){this.$refs.dialog.hide()},onDialogHide:function(){this.$emit("hide")},onOKClick:function(){var t=this;return l()(o.a.mark((function e(){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$emit("ok"),t.hide();case 2:case"end":return e.stop()}}),e)})))()},onCancelClick:function(){this.hide()}}}),u=c,p=(a("9e10"),a("2877")),d=a("eebe"),g=a.n(d),f=a("24e8"),h=a("f09f"),m=a("a370"),b=a("0378"),w=a("27f9"),v=a("ddd8"),x=a("9564"),q=a("4b7e"),y=a("9c40"),k=Object(p["a"])(u,n,r,!1,null,"30f99809",null);e["a"]=k.exports;g()(k,"components",{QDialog:f["a"],QCard:h["a"],QCardSection:m["a"],QForm:b["a"],QInput:w["a"],QSelect:v["a"],QToggle:x["a"],QCardActions:q["a"],QBtn:y["a"]})},"028f":function(t,e,a){"use strict";var n=a("f208"),r=a.n(n);r.a},"7cf4":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",[a("q-banner",{staticClass:"text-white bg-positive"},[t._v("TIP：本地题库指的是题目题面和样例均保留在本地的题目集，但不代表所有题目都是我们自己出的")]),a("q-banner",{staticClass:"text-white bg-warning"},[t._v("\n    WARN：由于历史原因，题目难度由系统自动计算而并不准确，如果你觉得有问题，请\n    "),a("q-btn",{attrs:{outline:"",label:"报错"},on:{click:function(e){return t.openBugReport()}}}),t._v("，当然记得选择类型【题目相关】\n  ")],1),a("q-card",{staticClass:"my-card"},[a("q-card-section",{staticClass:"bg-blue"},[a("div",{staticClass:"text-h6 text-white"},[a("q-avatar",{attrs:{color:"secondary"}},[t._v("LC")]),t._v("本地题库\n      ")],1)]),a("q-card-section",{staticClass:"q-gutter-sm row items-center"},[a("q-input",{staticClass:"q-mr-md",attrs:{standout:"",dense:"",label:"题号",placeholder:"输入题号"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter.searchProId,callback:function(e){t.$set(t.filter,"searchProId",e)},expression:"filter.searchProId"}}),a("q-input",{staticClass:"q-mr-md",attrs:{standout:"",dense:"",label:"标题",placeholder:"输入标题，可模糊查询"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter.searchTitle,callback:function(e){t.$set(t.filter,"searchTitle",e)},expression:"filter.searchTitle"}}),a("q-select",{staticClass:"q-mr-md",staticStyle:{"min-width":"200px","max-width":"300px"},attrs:{filled:"",dense:"",options:t.tagOptions,"option-value":"id","option-label":"name","emit-value":"","map-options":"",label:"搜索标签"},scopedSlots:t._u([t.filter.searchTag?{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"cancel"},on:{click:function(e){e.stopPropagation(),t.filter.searchTag=""}}})]},proxy:!0}:null],null,!0),model:{value:t.filter.searchTag,callback:function(e){t.$set(t.filter,"searchTag",e)},expression:"filter.searchTag"}}),a("q-btn",{staticClass:"q-mr-md",attrs:{color:"primary",round:"",icon:"search"},on:{click:function(e){return t.getProblem()}}}),a("q-btn",{attrs:{color:"negative",round:"",icon:"clear_all"},on:{click:function(e){return t.cleanFilter()}}},[a("q-tooltip",[t._v("重置筛选")])],1)],1),a("q-card-section",[a("el-pagination",{attrs:{layout:"sizes, prev, pager, next, jumper","current-page":t.pagination.currentPage,"page-size":t.pagination.pageSize,total:t.pagination.totalRows},on:{"size-change":t.sizeChange,"current-change":t.switchPage}}),a("el-table",{attrs:{data:t.data}},[this.$store.getters["global/getIsLogin"]?a("el-table-column",{attrs:{label:"是否解决","min-width":"20%"},scopedSlots:t._u([{key:"default",fn:function(e){return["yes"===e.row.isSolved?a("q-chip",{attrs:{dense:"",color:"green","text-color":"white",icon:"check"}},[t._v("已解决")]):"no"===e.row.isSolved?a("q-chip",{attrs:{dense:"",color:"red","text-color":"white",icon:"close"}},[t._v("未解决")]):t._e()]}}],null,!1,827735565)}):t._e(),a("el-table-column",{attrs:{label:"#","min-width":"25%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"text-orange text-weight-bold"},[t._v(t._s(e.row.problemId))])]}}])}),a("el-table-column",{attrs:{label:"题目标题","min-width":"60%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("q-btn",{attrs:{"no-caps":"",flat:"",color:"primary",label:e.row.title},on:{click:function(a){return t.toSubmit(e.row.problemId)}}})]}}])}),a("el-table-column",{attrs:{label:"通过率（通过人数/总提交数）","min-width":"50%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"text-secondary text-weight-bold"},[t._v(t._s(e.row.ratio))])]}}])}),a("el-table-column",{attrs:{label:"题目难度","min-width":"20%"},scopedSlots:t._u([{key:"default",fn:function(e){return["简单"===e.row.difficult?a("q-chip",{attrs:{dense:"",color:"green","text-color":"white"}},[t._v(t._s(e.row.difficult))]):"中等"===e.row.difficult?a("q-chip",{attrs:{dense:"",color:"orange","text-color":"white"}},[t._v(t._s(e.row.difficult))]):"困难"===e.row.difficult?a("q-chip",{attrs:{dense:"",color:"red","text-color":"white"}},[t._v(t._s(e.row.difficult))]):t._e()]}}])}),a("el-table-column",{attrs:{label:"题目来源",prop:"belongToOj","min-width":"25%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"text-info text-weight-bold"},[t._v(t._s(e.row.belongToOj))])]}}])})],1),a("div",{staticClass:"row"},[a("q-space"),a("el-pagination",{staticClass:"col-auto",attrs:{layout:"prev, pager, next, jumper","current-page":t.pagination.currentPage,"page-size":t.pagination.pageSize,total:t.pagination.totalRows},on:{"size-change":t.sizeChange,"current-change":t.switchPage}})],1),a("q-inner-loading",{attrs:{showing:t.loading}},[a("q-spinner-gears",{attrs:{size:"50px",color:"primary"}})],1)],1)],1),a("br")],1)},r=[],i=a("967e"),o=a.n(i),s=(a("96cf"),a("fa84")),l=a.n(s),c=a("0123"),u={data:function(){return{loading:!1,filter:{searchProId:"",searchTitle:"",searchTag:""},pagination:{currentPage:1,pageSize:10,totalRows:0},data:[],tagOptions:[]}},mounted:function(){this.getProblem(),this.getProblemTags()},methods:{openBugReport:function(){this.$q.dialog({component:c["a"],parent:this}).onOk((function(){})).onCancel((function(){})).onDismiss((function(){}))},cleanFilter:function(){this.filter.searchProId="",this.filter.searchTitle="",this.filter.searchTag=""},switchPage:function(t){this.pagination.currentPage=t,this.getProblem()},sizeChange:function(t){this.pagination.pageSize=t,this.getProblem()},getProblem:function(){var t=this;return l()(o.a.mark((function e(){var a,n;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,a=new URLSearchParams,a.append("pageNum",t.pagination.currentPage),a.append("pageSize",t.pagination.pageSize),a.append("problemId",t.filter.searchProId),a.append("tagId",t.filter.searchTag),a.append("title",t.filter.searchTitle),a.append("username",t.$store.getters["global/getUsername"]),e.next=10,t.$axios.get("/problem/list",a);case 10:n=e.sent,t.data=n.datas[0],t.pagination.totalRows=n.datas[1],t.loading=!1;case 14:case"end":return e.stop()}}),e)})))()},getProblemTags:function(){var t=this;return l()(o.a.mark((function e(){var a,n;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new URLSearchParams,e.next=3,t.$axios.get("/problem_tag/all",a);case 3:n=e.sent,t.tagOptions=n.datas[0];case 5:case"end":return e.stop()}}),e)})))()},toSubmit:function(t){this.$router.push({name:"localSubmit",query:{id:t}})}}},p=u,d=(a("028f"),a("2877")),g=a("eebe"),f=a.n(g),h=a("99899"),m=a("54e1"),b=a("9c40"),w=a("f09f"),v=a("a370"),x=a("cb32"),q=a("27f9"),y=a("0016"),k=a("ddd8"),_=a("05c0"),C=a("b047"),P=a("2c91"),S=a("74f7"),T=a("cf57"),$=Object(d["a"])(p,n,r,!1,null,"133226cc",null);e["default"]=$.exports;f()($,"components",{QPage:h["a"],QBanner:m["a"],QBtn:b["a"],QCard:w["a"],QCardSection:v["a"],QAvatar:x["a"],QInput:q["a"],QIcon:y["a"],QSelect:k["a"],QTooltip:_["a"],QChip:C["a"],QSpace:P["a"],QInnerLoading:S["a"],QSpinnerGears:T["a"]})},"9e10":function(t,e,a){"use strict";var n=a("c1cc"),r=a.n(n);r.a},c1cc:function(t,e,a){},f208:function(t,e,a){}}]);