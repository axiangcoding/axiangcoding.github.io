(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"6c33":function(t,e,a){},da1e:function(t,e,a){"use strict";var n=a("6c33"),r=a.n(n);r.a},db08:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",[a("q-banner",{staticClass:"text-white bg-warning"},[t._v("WARN：Judge题库内的题目均从Virtual Judge平台获取，如果加载较慢请稍等，因为有可能是他们服务器压力太大")]),a("q-card",{staticClass:"my-card"},[a("q-card-section",{staticClass:"bg-blue"},[a("div",{staticClass:"text-h6 text-white"},[a("q-avatar",{attrs:{color:"secondary"}},[a("img",{attrs:{src:"https://vjudge.net/static/images/logo.ico"}})]),t._v("Virtual Judge 题库\n      ")],1)]),a("q-card-section",{staticClass:"q-gutter-sm row items-center"},[a("q-select",{staticClass:"q-mr-md",staticStyle:{"min-width":"150px"},attrs:{filled:"",dense:"",options:t.OJs,"emit-value":"","map-options":"",label:"搜索OJ名"},scopedSlots:t._u([t.filter.searchTag?{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"cancel"},on:{click:function(e){e.stopPropagation(),t.filter.searchTag=""}}})]},proxy:!0}:null],null,!0),model:{value:t.filter.searchOJId,callback:function(e){t.$set(t.filter,"searchOJId",e)},expression:"filter.searchOJId"}}),a("q-input",{staticClass:"q-mr-md",attrs:{standout:"",dense:"",label:"题号",placeholder:"输入题号，可模糊查询"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter.searchProId,callback:function(e){t.$set(t.filter,"searchProId",e)},expression:"filter.searchProId"}}),a("q-input",{staticClass:"q-mr-md",attrs:{standout:"",dense:"",label:"标题",placeholder:"输入标题，可模糊查询"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter.searchTitle,callback:function(e){t.$set(t.filter,"searchTitle",e)},expression:"filter.searchTitle"}}),a("q-input",{staticClass:"q-mr-md",attrs:{standout:"",dense:"",label:"来源",placeholder:"输入来源，可模糊查询"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter.searchResouce,callback:function(e){t.$set(t.filter,"searchResouce",e)},expression:"filter.searchResouce"}}),a("q-btn",{staticClass:"q-mr-md",attrs:{color:"primary",round:"",icon:"search"},on:{click:function(e){return t.getVJProblem()}}}),a("q-btn",{attrs:{color:"negative",round:"",icon:"clear_all"},on:{click:function(e){return t.cleanFilter()}}},[a("q-tooltip",[t._v("重置筛选")])],1)],1),a("q-card-section",[a("el-pagination",{attrs:{layout:"sizes, prev, pager, next, jumper","current-page":t.pagination.currentPage,"page-size":t.pagination.pageSize,total:t.pagination.totalRows},on:{"size-change":t.sizeChange,"current-change":t.switchPage}}),a("el-table",{attrs:{data:t.data}},[a("el-table-column",{attrs:{label:"OJ名",prop:"originOJ","min-width":"15%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"text-dark text-weight-bold"},[t._v(t._s(e.row.originOJ))])]}}])}),a("el-table-column",{attrs:{label:"题号",prop:"originProb","min-width":"20%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"text-warning text-weight-bold"},[t._v(t._s(e.row.originProb))])]}}])}),a("el-table-column",{attrs:{label:"题目标题","min-width":"40%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("q-btn",{attrs:{flat:"",color:"primary",label:e.row.title},on:{click:function(a){return t.toVJSubmit(e.row.originOJ,e.row.originProb)}}})]}}])}),a("el-table-column",{attrs:{label:"更新时间","min-width":"30%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"text-secondary text-weight-bold"},[t._v(t._s(t.formatDate(e.row.triggerTime)))])]}}])}),a("el-table-column",{attrs:{label:"题目源（访问链接请注意安全）","min-width":"40%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"text-negative text-weight-bold",domProps:{innerHTML:t._s(e.row.source)}})]}}])})],1),a("div",{staticClass:"row"},[a("q-space"),a("el-pagination",{staticClass:"col-auto",attrs:{layout:"prev, pager, next, jumper","current-page":t.pagination.currentPage,"page-size":t.pagination.pageSize,total:t.pagination.totalRows},on:{"size-change":t.sizeChange,"current-change":t.switchPage}})],1),a("q-inner-loading",{attrs:{showing:t.loading}},[a("q-spinner-gears",{attrs:{size:"50px",color:"primary"}})],1)],1)],1),a("br")],1)},r=[],s=a("967e"),i=a.n(s),o=(a("96cf"),a("fa84")),c=a.n(o),l=a("bd4c"),u={data:function(){return{loading:!1,filter:{searchOJId:"All",searchProId:"",searchTitle:"",searchResource:""},pagination:{currentPage:1,pageSize:10,totalRows:0},OJs:[],data:[]}},mounted:function(){this.getVJProblem(),this.getOJs()},methods:{cleanFilter:function(){this.filter.searchProId="",this.filter.searchOJId="All",this.filter.searchTitle="",this.filter.searchResource=""},switchPage:function(t){this.pagination.currentPage=t,this.getVJProblem()},sizeChange:function(t){this.pagination.pageSize=t,this.getVJProblem()},formatDate:function(t){return l["a"].formatDate(t,"YYYY-MM-DD HH:mm:ss")},getOJs:function(){var t=this;return c()(i.a.mark((function e(){var a,n,r;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("/vj/util/ojs");case 2:for(r in a=e.sent,n=a.datas[0],t.OJs.push("All"),n)t.OJs.push(r);case 6:case"end":return e.stop()}}),e)})))()},getVJProblem:function(){var t=this;return c()(i.a.mark((function e(){var a,n;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,a=new URLSearchParams,a.append("pageNum",t.pagination.currentPage),a.append("pageSize",t.pagination.pageSize),a.append("OJId",t.filter.searchOJId),a.append("category","all"),a.append("probNum",t.filter.searchProId),a.append("title",t.filter.searchTitle),a.append("source",t.filter.searchResource),e.next=11,t.$axios.get("/vj/problem/list",a).catch((function(){t.loading=!1}));case 11:n=e.sent,1e4===n.code?(t.data=n.datas[0].data,t.pagination.totalRows=n.datas[0].recordsTotal,t.$q.notify({message:"与Virtual Judge同步成功",caption:"同步时间为：".concat(l["a"].formatDate(n.datas[1],"YYYY-MM-DD HH:mm:ss")),color:"positive",icon:"check"})):t.$q.notify({message:"与Virtual Judge同步失败",caption:"同步时间为：".concat(l["a"].formatDate(n.datas[1],"YYYY-MM-DD HH:mm:ss")),color:"negative",icon:"error"}),t.loading=!1;case 14:case"end":return e.stop()}}),e)})))()}}},d=u,p=(a("da1e"),a("2877")),g=a("eebe"),f=a.n(g),h=a("99899"),m=a("54e1"),b=a("f09f"),w=a("a370"),v=a("cb32"),J=a("ddd8"),q=a("0016"),x=a("27f9"),P=a("9c40"),y=a("05c0"),k=a("2c91"),C=a("74f7"),S=a("cf57"),_=Object(p["a"])(d,n,r,!1,null,"7bd0d42b",null);e["default"]=_.exports;f()(_,"components",{QPage:h["a"],QBanner:m["a"],QCard:b["a"],QCardSection:w["a"],QAvatar:v["a"],QSelect:J["a"],QIcon:q["a"],QInput:x["a"],QBtn:P["a"],QTooltip:y["a"],QSpace:k["a"],QInnerLoading:C["a"],QSpinnerGears:S["a"]})}}]);