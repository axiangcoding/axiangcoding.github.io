(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"0123":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{ref:"dialog",on:{hide:t.onDialogHide}},[a("q-card",{staticClass:"q-dialog-plugin"},[a("q-card-section",{staticClass:"bg-primary"},[a("span",{staticClass:"text-h6 text-white"},[t._v("Bug反馈")])]),a("q-form",{on:{submit:function(e){return t.onSubmit()}}},[a("q-card-section",{staticClass:"q-gutter-y-md"},[a("q-input",{attrs:{disable:"",filled:"",label:"登录账号"},model:{value:t.data.username,callback:function(e){t.$set(t.data,"username",e)},expression:"data.username"}}),a("q-input",{attrs:{disable:"",filled:"",label:"当前所在页面"},model:{value:t.data.currentPath,callback:function(e){t.$set(t.data,"currentPath",e)},expression:"data.currentPath"}}),a("q-select",{attrs:{filled:"",options:t.bugTypeOptions,"emit-value":"","map-options":"",label:"Bug类型",rules:[function(t){return""!==t||"你想报告哪种类型的BUG？"}]},model:{value:t.data.bugType,callback:function(e){t.$set(t.data,"bugType",e)},expression:"data.bugType"}}),a("q-input",{ref:"title",attrs:{filled:"",label:"BUG标题",rules:[function(t){return!!t&&t.length>0||"至少写个标题吧"}]},model:{value:t.data.title,callback:function(e){t.$set(t.data,"title",e)},expression:"data.title"}}),a("q-input",{attrs:{type:"textarea",filled:"",label:"BUG内容"},model:{value:t.data.text,callback:function(e){t.$set(t.data,"text",e)},expression:"data.text"}}),a("q-toggle",{attrs:{disable:t.disableAnonymous,label:"匿名（如果未登录默认为匿名）"},model:{value:t.data.anonymous,callback:function(e){t.$set(t.data,"anonymous",e)},expression:"data.anonymous"}})],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{color:"negative",label:"取消"},on:{click:t.onCancelClick}}),a("q-btn",{attrs:{type:"submit",color:"primary",label:"提交BUG"}})],1)],1)],1)],1)},n=[],s=a("967e"),r=a.n(s),i=(a("96cf"),a("fa84")),l=a.n(i),c=(a("bd4c"),{props:{},data:function(){return{data:{username:this.$store.getters["global/getUsername"],currentPath:this.$route.path,bugType:"",title:"",text:"",anonymous:!1},disableAnonymous:!1,bugTypeOptions:[]}},mounted:function(){this.getBugTypeOptions(),this.$store.getters["global/getIsLogin"]||(this.data.anonymous=!0,this.disableAnonymous=!0)},methods:{onSubmit:function(){this.reportBug()},getBugTypeOptions:function(){var t=this;return l()(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("/util/bugTypes");case 2:a=e.sent,t.bugTypeOptions=a.datas[0];case 4:case"end":return e.stop()}}),e)})))()},reportBug:function(){var t=this;return l()(r.a.mark((function e(){var a,o;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new URLSearchParams,a.append("username",t.data.anonymous?"":t.data.username),a.append("currentPath",t.data.currentPath),a.append("type",t.data.bugType),a.append("title",t.data.title),a.append("text",t.data.text),e.next=8,t.$axios.post("/bug/report",a);case 8:if(o=e.sent,1e4!==o.code){e.next=13;break}t.$q.notify({icon:"check",color:"positive",message:"BUG提交成功",caption:"如果不是匿名提交的，可以留意系统消息哦"}),e.next=15;break;case 13:return t.$q.notify({icon:"error",color:"negative",message:"BUG提交失败",caption:"请稍后重试"}),e.abrupt("return");case 15:t.onOKClick();case 16:case"end":return e.stop()}}),e)})))()},show:function(){this.$refs.dialog.show()},hide:function(){this.$refs.dialog.hide()},onDialogHide:function(){this.$emit("hide")},onOKClick:function(){var t=this;return l()(r.a.mark((function e(){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$emit("ok"),t.hide();case 2:case"end":return e.stop()}}),e)})))()},onCancelClick:function(){this.hide()}}}),u=c,b=(a("9e10"),a("2877")),d=a("eebe"),g=a.n(d),p=a("24e8"),h=a("f09f"),f=a("a370"),m=a("0378"),v=a("27f9"),q=a("ddd8"),w=a("9564"),x=a("4b7e"),y=a("9c40"),C=Object(b["a"])(u,o,n,!1,null,"30f99809",null);e["a"]=C.exports;g()(C,"components",{QDialog:p["a"],QCard:h["a"],QCardSection:f["a"],QForm:m["a"],QInput:v["a"],QSelect:q["a"],QToggle:w["a"],QCardActions:x["a"],QBtn:y["a"]})},"1e81":function(t,e,a){},"3ef6":function(t,e,a){},"4e09":function(t,e,a){"use strict";var o=a("1e81"),n=a.n(o);n.a},"713b":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{attrs:{view:"hHh lpR fff"}},[a("q-header",{staticClass:"bg-primary text-white",attrs:{"height-hint":"98"}},[a("q-toolbar",[a("q-toolbar-title",[a("q-avatar",{attrs:{color:"light-blue"}},[t._v("\n          CF\n          ")]),t._v(" 一码当先 | CodingFirst\n      ")],1),a("q-space"),this.$store.getters["global/getIsLogin"]?a("div",[a("q-btn",{attrs:{glossy:""}},[a("q-avatar",{attrs:{size:"30px"}},[a("img",{attrs:{src:t.$store.getters["global/getPrivateInfo"].avatarUrl}})]),a("div",{staticClass:"q-ml-sm"},[t._v(t._s(t.fullNickname))]),a("q-menu",[a("PersonInfoPane")],1)],1)],1):a("div",[a("q-tabs",{attrs:{"inline-label":""}},[a("q-route-tab",{attrs:{icon:"person_add",to:"/register",label:"注册"}}),a("q-route-tab",{attrs:{icon:"person",to:"/login",label:"登录"}})],1)],1)],1),a("q-tabs",{staticClass:"glossy",attrs:{"active-color":"gold",align:"left","inline-label":""}},[a("q-route-tab",{attrs:{icon:"home",to:"/",label:"主 页"}}),a("q-route-tab",{attrs:{icon:"menu",to:"/problem-list",label:"题 库"}}),a("q-route-tab",{attrs:{icon:"gavel",to:"/status",label:"评 测"}}),a("q-route-tab",{attrs:{icon:"receipt",to:"/contest",label:"比 赛"}}),a("q-route-tab",{attrs:{icon:"format_list_numbered",to:"/border",label:"排 名"}}),a("q-route-tab",{attrs:{icon:"chat_bubble",to:"/discuss",label:"讨 论"}}),a("q-route-tab",{attrs:{icon:"store_mall_directory",to:"/mall",label:"商 城"}})],1)],1),a("q-page-container",[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1),a("q-page-scroller",{attrs:{position:"bottom-right","scroll-offset":150,offset:[9,18]}},[a("q-btn",{staticClass:"z-top",attrs:{fab:"",icon:"keyboard_arrow_up",color:"primary"}})],1)],1),a("q-footer",{staticClass:"bg-grey-8 text-white my-footer"},[a("div",{staticClass:"row justify-center"},[a("div",{staticClass:"text-h4"},[t._v("\n        CodingFirst\n        "),a("q-badge",{attrs:{color:"warning"}},[t._v("v1.0.0 TEST")])],1)]),a("div",{staticClass:"row justify-center"},[a("q-btn-group",{attrs:{outline:""}},[a("q-btn",{attrs:{outline:"",color:"white",label:"Bug反馈"},on:{click:function(e){return t.openBugReport()}}}),a("q-btn",{attrs:{outline:"",color:"white",label:"FAQ"}}),a("q-btn",{attrs:{outline:"",color:"white",label:"项目简介",to:"/project-introduction"}}),a("q-btn",{attrs:{outline:"",color:"white",label:"开发日志"},on:{click:function(e){return t.toGithub()}}}),a("q-btn",{attrs:{outline:"",color:"white",label:"开发团队",to:"/develop-team"}}),a("q-btn",{attrs:{outline:"",color:"white",label:"加入我们"}}),a("q-btn",{attrs:{outline:"",color:"white",label:"闽ICP备19024997号"}})],1)],1),a("div",{staticClass:"row justify-center text-h7 text-amber-7"},[t._v("\n      Power by \n      "),a("q-icon",{attrs:{name:"copyright"}}),t._v(" 福建工程学院 - OJ项目组\n    ")],1)]),a("CleverRobot")],1)},n=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row no-wrap q-pa-md"},[a("div",{staticStyle:{"max-width":"200px"}},[a("div",{staticClass:"text-h6 q-mb-md"},[t._v("个人面板")]),a("div",{staticClass:"q-gutter-x-sm q-gutter-y-sm"},[a("q-btn",{attrs:{color:"positive",label:"每日签到"}}),a("q-btn",{attrs:{color:"primary",label:"站内消息",to:"/message"}},[t.$store.getters["global/getNotReadMsgCount"]>0?a("q-badge",{attrs:{color:"negative",floating:""}},[t._v(t._s(t.$store.getters["global/getNotReadMsgCount"]))]):t._e()],1),a("q-btn",{attrs:{color:"accent",label:"个人信息"}}),a("q-btn",{attrs:{color:"negative",label:"系统设置"}}),a("q-btn",{attrs:{color:"orange",label:"身份认证"}}),a("q-btn",{attrs:{color:"info",label:"神秘代码"}})],1)]),a("q-separator",{staticClass:"q-mx-lg",attrs:{vertical:"",inset:""}}),a("div",{staticClass:"column items-center"},[a("q-avatar",{attrs:{size:"72px"}},[a("img",{attrs:{src:this.$store.getters["global/getPrivateInfo"].avatarUrl}})]),a("div",{staticClass:"text-h6 q-mt-md q-mb-xs"},[t._v(t._s(this.$store.getters["global/getUsername"]))]),a("q-btn",{attrs:{color:"primary",label:"退出登录",glossy:"",push:"",size:"md"},on:{click:function(e){return t.doLogOut()}}})],1)],1)])},r=[],i=a("967e"),l=a.n(i),c=(a("96cf"),a("fa84")),u=a.n(c),b={data:function(){return{}},methods:{doLogOut:function(){var t=this;this.$q.dialog({title:"退出登录",message:"确定要退出登录吗？",ok:{push:!0},cancel:{push:!0,color:"negative"}}).onOk((function(){t.logout()}))},logout:function(){var t=this;return u()(l.a.mark((function e(){var a;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new URLSearchParams;case 2:a=e.sent,a.append("username",t.$store.getters["global/getUsername"]),t.$axios.post("/user/logout",a),t.$store.commit("global/logout"),t.$q.notify({message:"已退出登录",caption:"你已退出登录，欢迎再次回来哦",color:"warning",icon:"warning",timeout:2e3}),t.$router.push("/");case 8:case"end":return e.stop()}}),e)})))()}}},d=b,g=a("2877"),p=a("eebe"),h=a.n(p),f=a("9c40"),m=a("58a8"),v=a("eb85"),q=a("cb32"),w=Object(g["a"])(d,s,r,!1,null,"59fd9e94",null),x=w.exports;h()(w,"components",{QBtn:f["a"],QBadge:m["a"],QSeparator:v["a"],QAvatar:q["a"]});var y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"robot-body fixed-bottom-left z-top"},[t.showRobot?a("div",[a("q-img",{staticClass:"robot-img row",attrs:{src:t.robotUrl,"spinner-color":"white"}},[a("q-tooltip",{attrs:{anchor:"top right",self:"top middle"},model:{value:t.showText,callback:function(e){t.showText=e},expression:"showText"}},[a("div",{staticClass:"text-subtitle2"},[t._v(t._s(t.text))])])],1),a("q-btn",{attrs:{color:"negative",size:"md"},on:{click:function(e){return t.shutdownRobot()}}},[t._v("点我消灭机器人")])],1):a("div",[a("q-tooltip",{attrs:{anchor:"top right",self:"top bottom"}},[t._v("点我召唤敢敢")]),a("q-btn",{attrs:{color:"secondary",round:"",icon:"chat"},on:{click:function(e){return t.openRobot()}}})],1)])},C=[],k=(a("7f7f"),{data:function(){return{time:"",showRobot:!0,showText:!0,text:"你好，我是敢敢，不智能的智能机器人",robotUrl:"https://i.loli.net/2019/12/13/TnkKVyBZjA8aLc7.gif"}},watch:{$route:"changePage"},mounted:function(){this.time=setInterval((function(){}),6e3)},methods:{changePage:function(){var t=this;switch(this.showText=!1,this.time&&clearInterval(this.time),this.$route.name){case"index":this.text="欢迎来到CodingFirst，点我查看更多好玩的内容哦";break;case"login":this.text="欢迎登录，登录后享受更多内容哦";break;default:this.text="好无聊啊，我什么时候才能变聪明";break}this.showText=!0,this.time=setInterval((function(){t.showText=!1}),6e3)},shutdownRobot:function(){this.showRobot=!1},openRobot:function(){this.showRobot=!0}},beforeDestroy:function(){this.time&&clearInterval(this.time)}}),$=k,_=(a("fb99"),a("068f")),Q=a("05c0"),T=Object(g["a"])($,y,C,!1,null,"175f3fcc",null),B=T.exports;h()(T,"components",{QImg:_["a"],QTooltip:Q["a"],QBtn:f["a"]});var P=a("0123"),R={components:{PersonInfoPane:x,CleverRobot:B},data:function(){return{}},computed:{fullNickname:function(){var t=this.$store.getters["global/getPrivateInfo"],e=t.adjectiveTitle?t.adjectiveTitle:"",a=t.articleTitle?t.articleTitle:"";return e+" "+a+" "+t.nickname}},methods:{openBugReport:function(){this.$q.dialog({component:P["a"],parent:this}).onOk((function(){})).onCancel((function(){})).onDismiss((function(){}))},toGithub:function(){window.open("https://github.com/axiangcoding/CodingFirstApiSys/commits/master"),window.open("https://github.com/axiangcoding/CodingFirstWebCliNew/commits/master")}}},O=R,I=(a("4e09"),a("4d5a")),U=a("e359"),S=a("65c6"),j=a("6ac5"),A=a("2c91"),F=a("429b"),G=a("7867"),L=a("4e73"),z=a("09e3"),D=a("5096"),E=a("7ff0"),N=a("e7a9"),H=a("0016"),J=Object(g["a"])(O,o,n,!1,null,"5d9162b2",null);e["default"]=J.exports;h()(J,"components",{QLayout:I["a"],QHeader:U["a"],QToolbar:S["a"],QToolbarTitle:j["a"],QAvatar:q["a"],QSpace:A["a"],QTabs:F["a"],QRouteTab:G["a"],QBtn:f["a"],QMenu:L["a"],QPageContainer:z["a"],QPageScroller:D["a"],QFooter:E["a"],QBadge:m["a"],QBtnGroup:N["a"],QIcon:H["a"]})},"9e10":function(t,e,a){"use strict";var o=a("c1cc"),n=a.n(o);n.a},c1cc:function(t,e,a){},fb99:function(t,e,a){"use strict";var o=a("3ef6"),n=a.n(o);n.a}}]);